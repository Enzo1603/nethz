{% extends "components/_base.html" %}
{% load i18n %}
{% load macros %}

{% block content %}

<!-- Title with Semester Dropdown -->
<div class="d-flex align-items-center justify-content-between flex-wrap">
    <h3>{% trans "Engineering Mechanics" %} {{ current_semester }}</h3>

    <div class="dropdown">
        <button class="btn btn-outline-secondary dropdown-toggle" type="button" id="semesterDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            {{ current_semester }}
        </button>
        <ul class="dropdown-menu" aria-labelledby="semesterDropdown">
            {% for semester in available_semesters %}
            <li>
                <a class="dropdown-item {% if semester == current_semester %}active{% endif %}" href="{% url 'main:technische_mechanik_semester' semester %}">
                    {{ semester }}
                </a>
            </li>
            {% endfor %}
        </ul>
    </div>
</div>

<br />

{% include "macros/polybox.html" %}

<div class="mt-4">
    <h5 class="mb-3">{% trans "Useful Links" %}</h5>

    <div class="row g-3">
        <div class="col-md-6 col-lg-4">
            {% link_banner link="https://polybox.ethz.ch/index.php/s/jBS5i5tCgrS8ScZ" title=_("Lina de Windt's PVK") subtitle=_("Polybox download") icon="bi-file-earmark-pdf" icon_color="success" gradient="linear-gradient(120deg, rgba(25,135,84,0.75) 0%, rgba(25,135,84,0.55) 60%)" %}
        </div>
        <div class="col-md-6 col-lg-4">
            {% link_banner link="https://polybox.ethz.ch/index.php/s/FQWekmyGL5QdJtA" title=_("Theory Recap by Felix Stalder") subtitle=_("Notes") icon="bi-book" icon_color="info" gradient="linear-gradient(120deg, rgba(13,202,240,0.75) 0%, rgba(13,202,240,0.55) 60%)" %}
        </div>
        <div class="col-md-6 col-lg-4">
            {% link_banner link="https://www.youtube.com/playlist?list=PL0WLWTsoAENhKG7he0XBQmgDnFfcJnfoi" title=_("YT - EE4ETH - Engineering Mechanics Playlist") subtitle=_("YouTube") icon="bi-youtube" icon_color="danger" gradient="linear-gradient(120deg, rgba(220,53,69,0.8) 0%, rgba(220,53,69,0.6) 60%)" %}
        </div>
    </div>
</div>

<br />

<!-- Table -->
<div class="table-responsive mt-4">
    <table class="table table-modern">
        <thead>
            <tr>
                <th scope="col" style="width: 10%;">{% trans "Week" %}</th>
                <th scope="col" style="width: 25%;">{% trans "Exercise Materials" %}</th>
                <!-- <th scope="col">{% trans "Exercises" %}</th>
                <th scope="col">{% trans "Solutions" %}</th> -->
                <th scope="col" style="width: 65%;">{% trans "Remarks" %}</th>
            </tr>
        </thead>
        <tbody>
            {% for entry in week_entries %}
            <tr>
                <th scope="row">{{ entry.week_number }}</th>

                <td>
                    <a class="btn btn-outline-primary {% if not entry.has_exercise_materials %}disabled{% endif %}" href="{{ entry.exercise_materials_link }}" target="_blank">
                        <i class="bi bi-download me-md-2"></i>{% trans "Exercise Material" %}&nbsp; {% if entry.materials_number != 0 %}
                        {{ entry.materials_number }} {% else %} n/a {% endif %}
                    </a>
                </td>

                <td>
                    <p class="fst-italic text-body-secondary">
                        {{ entry.remarks | safe }}
                    </p>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<br />

{% endblock %}